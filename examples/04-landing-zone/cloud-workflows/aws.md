# AWS Workflow for Enterprise Landing Zone

This guide shows the commands and prompts to deploy an enterprise landing zone on AWS using IaC Spec Kit.

> **Note**: The specific files, directory names, and some outputs are generated by the AI and will vary depending on your AI tool. The workflow structure remains consistent.

## Prerequisites

- AWS Organization with management account access
- IaC Spec Kit installed
- Terraform installed
- AI coding assistant running

## Commands

### Step 1: Establish Project Principles

```
/iac.principles I'm building an enterprise cloud landing zone on AWS for a regulated industry. Security and compliance are critical. Multiple environments need isolation. Use Terraform with terraform-aws-modules.
```

**Generates**: `.specify/memory/principles.md` with governance rules, security principles, compliance requirements

---

### Step 2: Describe What You Want

```
/iac.specify I need an enterprise landing zone for our organization. Requirements: separate AWS accounts for production, staging, development, and shared services. Centralized networking with hub-and-spoke topology. All logs aggregated to security account. Policy-based guardrails to enforce compliance. Cost tracking by environment. We need to comply with SOC 2 and must implement least-privilege access controls.
```

**Generates**: `spec.md`, `checklists/requirements.md`

**spec.md** includes cloud-agnostic requirements such as:
- Multi-account structure with environment isolation
- Centralized identity and access management
- Hub-and-spoke network topology
- Centralized logging and audit trails
- Policy enforcement and compliance controls
- Cost management and allocation
- Security monitoring and alerting

---

### Step 3: Clarify Requirements (Optional)

```
/iac.clarify
```

**Example questions**: Number of environments, network connectivity requirements, specific compliance frameworks, backup and retention policies

---

### Step 4: Create Implementation Plan

```
/iac.plan We'll use AWS Control Tower for account management. Transit Gateway for networking. Security Hub for compliance. CloudTrail and Config for audit logs. GuardDuty for threat detection.
```

**Generates**: `plan.md`, `research.md`, `architecture.md`, `modules.md`, `quickstart.md`

**plan.md** example architecture:
- Accounts: AWS Organizations with 4 OUs (Production, Staging, Development, Security)
- Networking: Transit Gateway in network account, VPCs in spoke accounts
- Security: Security Hub, GuardDuty, AWS Config, CloudTrail in security account
- Identity: AWS SSO with permission sets
- Compliance: AWS Control Tower guardrails, Service Control Policies

Research includes Well-Architected Framework mappings and terraform-aws-modules for Landing Zone.

---

### Step 5: Generate Task Breakdown

```
/iac.tasks
```

**Generates**: `tasks.md` with phased implementation organized by account and service tier

---

### Step 6: Implement Infrastructure Code

```
/iac.implement
```

**Generates**: Terraform files organized by account/service. Examples:
- organization/accounts.tf, organization/scp.tf
- network/transit-gateway.tf, network/vpc.tf
- security/securityhub.tf, security/guardduty.tf, security/cloudtrail.tf
- identity/sso.tf, compliance/config.tf

**Important**: Landing zones require careful sequencing. Review generated task order before applying.

---

## Deployment Considerations

Landing zones are deployed in phases:
1. Organization structure and accounts
2. Networking foundation (Transit Gateway, VPCs)
3. Security baseline (logging, monitoring)
4. Identity and access management
5. Compliance and guardrails

Each phase may require separate `terraform apply` runs across different accounts.

---

## Files Generated Summary

| Command | Files | Purpose |
|---------|-------|---------|
| `/iac.principles` | `principles.md` | Enterprise governance rules |
| `/iac.specify` | `spec.md`, `checklists/requirements.md` | Cloud-agnostic landing zone requirements |
| `/iac.plan` | `plan.md`, `research.md`, etc. | AWS-specific architecture |
| `/iac.tasks` | `tasks.md` | Phased implementation tasks |
| `/iac.implement` | `*.tf` files | Terraform code for landing zone |
